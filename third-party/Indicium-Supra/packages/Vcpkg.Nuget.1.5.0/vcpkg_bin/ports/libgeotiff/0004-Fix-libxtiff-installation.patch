From 3a7c42f304ec3bb149e31bbd21c9c84048c3047c Mon Sep 17 00:00:00 2001
From: Hiroshi Miura <miurahr@linux.com>
Date: Thu, 15 Feb 2018 13:11:01 +0900
Subject: [PATCH 4/5] Fix libxtiff installation

Signed-off-by: Hiroshi Miura <miurahr@linux.com>
---
 CMakeLists.txt          | 9 ++-------
 libxtiff/CMakeLists.txt | 9 ---------
 2 files changed, 2 insertions(+), 16 deletions(-)
 delete mode 100644 libxtiff/CMakeLists.txt

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 1e2fe3d..c52cfb4 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -354,11 +354,6 @@ INSTALL(FILES ${GEOTIFF_MAN_PAGES} DESTINATION share/man/man1)
 # INSTALL(FILES ${GEOTIFF_LIB_HEADERS} DESTINATION ${GEOTIFF_INCLUDE_DIR})
 INSTALL(FILES ${GEOTIFF_LIB_HEADERS} DESTINATION include)
 
-###############################################################################
-# Build libxtiff library
-
-ADD_SUBDIRECTORY(libxtiff)
-
 ###############################################################################
 # Build libgeotiff library
 
@@ -406,6 +401,8 @@ FOREACH(epsg_csv_file ${GEOTIFF_CSV_DATA})
     ENDIF()
 ENDFOREACH()
 
+SET(XTIFF_SOURCES libxtiff/xtiff.c)
+
 SET(EPSG_INCODE_EXPLANATION
     "This file is autogenerated by CMake, based on the INCODE_EPSG_* options specified during configure.\n
     Choosing an EPSG CSV file for inclusion into code will run csv/csv2c.py on the file and include the\n
@@ -414,8 +411,6 @@ STRING(REPLACE ";" "\n" EPSG_INCLUDEFILE_POINTER_STRING "${epsg_includefile_poin
 FILE(WRITE "${CMAKE_CURRENT_BINARY_DIR}/epsg_incode_header.h"
     "/* ${EPSG_INCODE_EXPLANATION} */\n${epsg_includefile_externconst}; \n\n/* Pointers to csv data included in code */\nstatic const datafile_t files[] = {\n${EPSG_INCLUDEFILE_POINTER_STRING}\n  { NULL, NULL }};")
 
-SET(XTIFF_SOURCES libxtiff/xtiff.c)
-
 if (MSVC OR CMAKE_CONFIGURATION_TYPES)
   # For multi-config systems and for Visual Studio, the debug versions
   # of the libraries have a _d suffix.
diff --git a/libxtiff/CMakeLists.txt b/libxtiff/CMakeLists.txt
deleted file mode 100644
index a0bbb96..0000000
--- a/libxtiff/CMakeLists.txt
+++ /dev/null
@@ -1,9 +0,0 @@
-###############################################################################
-#
-# CMake configuration file to build libxtiff library
-#
-# Author: Mateusz Loskot <mateusz@loskot.net>
-#
-###############################################################################
-
-ADD_LIBRARY(xtiff STATIC xtiff.c)
-- 
2.16.1

